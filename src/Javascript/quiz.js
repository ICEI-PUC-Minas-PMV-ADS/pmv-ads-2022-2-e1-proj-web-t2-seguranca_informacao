var quiz = {
	"JS": [
		{
			"id": 1,
			"pergunta": "Muitas pessoas ainda optam por repetir a mesma senha em vários serviços. Caso essa senha seja considerada forte, essas pessoas nunca terão problemas de segurança.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},
		{
			"id": 2,
			"pergunta": "Em ataques de força bruta, a invasão independerá do tamanho e da complexidade da senha, pois os criminosos sempre conseguirão identificar a senha em suas investidas.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},
		{
			"id": 3,
			"pergunta": "Um determinado usuário recebeu um e-mail falso, aparentemente proveniente de um banco comercial. O conteúdo desse e-mail o induziu a clicar em um link, fazendo com que fosse mostrada uma página eletrônica falsa. Caso esse usuário insira os seus dados financeiros nessa página eletrônica e os envie, os seus dados pessoais serão enviados a um golpista, que poderá fazer uso criminoso desses dados. Esse tipo de golpe na Internet é chamado de Phishing.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 4,
			"pergunta": "Um trojam torna inacessíveis os dados armazenados em um equipamento, geralmente usando criptografia, e que exige pagamento de resgate (ransom) para restabelecer o acesso ao usuário.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 5,
			"pergunta": "Um spyware é um tipo de malware ou vírus que realiza o monitoramento das atividades do computador infectado, com o objetivo de capturar senhas ou informações de cartões de crédito, por exemplo.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 6,
			"pergunta": "Ferramentas antimalware são aquelas que procuram detectar e, então, anular ou remover os códigos maliciosos de um computador. Antivírus, antispyware, antirootkit e antitrojan são exemplos de ferramentas deste tipo.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 7,
			"pergunta": "Com relação aos Backups, também conhecidos como cópias de segurança, é correto afirmar que é recomendado armazenar os backups sempre no mesmo local do dispositivo de armazenamento.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 8,
			"pergunta": "José utilizou uma ferramenta para criptografar uma informação a ser transmitida para Maria, com o objetivo de proteger a	informação contra acesso não autorizado. O requisito básico de segurança da informação assegurado pela criptografia é a confidencialidade.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 9,
			"pergunta": "Após acessar um website para o download de músicas da internet, foi notado que o navegador internet passou a mostrar janelas pop-up com propagandas de forma infinita, ou seja, após o fechamento de uma janela, outra é apresentada em seguida de forma contínua. Esse efeito é característico do ataque do malware conhecido como worm.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 10,
			"pergunta": "Existem malwares projetados especificamente para documentos do Word, Excel, Power Point, entre outros. Esse tipo de malware é conhecido como vírus de macro.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 11,
			"pergunta": "Salvar senhas nos navegadores é uma boa prática de segurança.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 12,
			"pergunta": "A instalação de um antivírus e a ativação do firewall no computador pessoal são suficientes para garantir a segurança do computador contra os programas maliciosos.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 13,
			"pergunta": "Quando um titular de uma conta reutiliza as mesmas senhas (ou semelhantes) em vários sites, ele cria um efeito dominó no qual um único par de credenciais pode ser usado para violar vários aplicativos. Uma das recomendações é que não se deve anotar as senhas para evitar que outras pessoas tenham acesso a elas.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 14,
			"pergunta": "Atualmente, o uso de rede Wi-Fi pública não trás riscos de segurança aos usuários, pois os equipamentos modernos garantem que os dispositivos fiquem invisíveis para outros usuários da rede.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Falso",
			"pontuacao": 0,
			"status": ""
		},

		{
			"id": 15,
			"pergunta": "A verificação em duas etapas é um dos mecanismos mais eficazes para a proteção de credenciais. Habilitando esse serviço, o usuário tem que inserir outro fator para poder acessar um sistema, que pode ser biometria ou um código de uso único de tempo limitado. Isso reduz a chance de que um criminoso consiga se aproveitar de senhas vazadas ou advinhadas.",
			"opcoes": [
				{
					"a": "Verdadeiro",
					"b": "Falso"
				}
			],
			"resposta": "Verdadeiro",
			"pontuacao": 0,
			"status": ""
		},
		
	]
}

var quizInfoSec = function () {

	this.pontuacao = 0;
	this.numeroQuestao = 1;
	this.questaoAtual = 0;
	var totalQuestoes = quiz.JS.length;

	this.mostrarQuiz = function (numeroQuestao) {
		this.questaoAtual = numeroQuestao;
		if (this.questaoAtual < totalQuestoes) {
			$("#total-questoes").html(totalQuestoes);
			$("#anterior").attr("disabled", false);
			$("#proxima").attr("disabled", false);
			$("#id-questao").html(quiz.JS[this.questaoAtual].id + ')');


			$("#pergunta").html(quiz.JS[this.questaoAtual].pergunta);
			$("#pergunta-opcoes").html("");
			for (var key in quiz.JS[this.questaoAtual].opcoes[0]) {
				if (quiz.JS[this.questaoAtual].opcoes[0].hasOwnProperty(key)) {

					$("#pergunta-opcoes").append(
						"<div class='form-check caixa-opcoes'>" +
						"<label class='form-check-label'>" +
						"<input type='radio' class='form-check-input' name='option'   id='q" + key + "' value='" + quiz.JS[this.questaoAtual].opcoes[0][key] + "'><span id='optionval'>" +
						quiz.JS[this.questaoAtual].opcoes[0][key] +
						"</span></label>"
					);
				}
			}
		}
		if (this.questaoAtual <= 0) {
			$("#anterior").attr("disabled", true);
		}
		if (this.questaoAtual >= totalQuestoes) {
			$('#proxima').attr('disabled', true);
			for (var i = 0; i < totalQuestoes; i++) {
				this.pontuacao = this.pontuacao + quiz.JS[i].pontuacao;
			}
			return this.mostrarResultado(this.pontuacao);
		}
	}

	this.mostrarResultado = function (acertos) {
		$("#resultado").addClass('resultado');
		$("#resultado").html("<h2 class='linha-cabecalho'>Respostas corretas: " + acertos + ' de ' + totalQuestoes + "</h2>");
		for (var contador = 0; contador < totalQuestoes; contador++) {
			var res;
			if (quiz.JS[contador].pontuacao == 0) {
				res = '</span><i class="resposta-errada">Errou</i>';
			} else {
				res ='</span><i class="resposta-correta">Acertou</i>';
			}
			$("#resultado").append(
				'<div class="resultado-pergunta"><span><b>Pergunta ' + quiz.JS[contador].id + ': </b>' + '</span> &nbsp;' + quiz.JS[contador].pergunta + '</div>' +
				'<div><b>Gabarito: </b>' + quiz.JS[contador].resposta + '&nbsp;&nbsp;&nbsp;' + '( ' + res + ' )' + '</div>' +
				'<div class="linha-separadora">' + '</div>'
			);
		}
		$("main").append(
			'<h3><a href="detalhesQuestoes.html">Quero saber os detalhes das questões apresentadas</a></h3>'
		);
	}

	this.verificarResposta = function (option) {
		if (option == quiz.JS[this.questaoAtual].resposta) {
			if (quiz.JS[this.questaoAtual].pontuacao == "") {
				quiz.JS[this.questaoAtual].pontuacao = 1;
				quiz.JS[this.questaoAtual].status = "certa";
			}
		} else {
			quiz.JS[this.questaoAtual].status = "errada";
		}
	}

	this.mudarPergunta = function (numeroQuestao) {
		this.questaoAtual = this.questaoAtual + numeroQuestao;
		this.mostrarQuiz(this.questaoAtual);
	}
}


var jsq = new quizInfoSec();

var opcaoSelecionada;
$(document).ready(function () {
	jsq.mostrarQuiz(0);

	$('#pergunta-opcoes').on('change', 'input[type=radio][name=option]', function (e) {

		$(this).prop("checked", true);
		opcaoSelecionada = $(this).val();
	});
});




$('#proxima').click(function (e) {
	e.preventDefault();
	if (opcaoSelecionada) {
		jsq.verificarResposta(opcaoSelecionada);
	}
	jsq.mudarPergunta(1);
});

$('#anterior').click(function (e) {
	e.preventDefault();
	if (opcaoSelecionada) {
		jsq.verificarResposta(opcaoSelecionada);
	}
	jsq.mudarPergunta(-1);
});